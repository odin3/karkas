{"version":3,"sources":["file:///karkas.min.js","file:///webpack/bootstrap a9a0b6c7accde068ef3a","file:///D:\\Code\\karkas\\src\\karkas.ts","file:///D:\\Code\\karkas\\src\\index.ts","file:///D:\\Code\\karkas\\src\\view.ts","file:///D:\\Code\\karkas\\src\\karkas-dom.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","view_1","Karkas","this","_version","views","Map","filters","dispose","clear","getView","templateName","has","ReferenceError","getFilter","filterName","filter","filterQuery","query","trim","split","length","filterArgs","Function","concat","apply","ex","Error","message","compile","context","template","Array","parseArray","parse","createView","view","View","set","addFilter","filterFunc","karkas_1","karkas_dom_1","karkas","instance","window","KarkasDOM","default","SEARCH_PATTERN","valueParserFactory","expressionName","t","v","def","val","handler","content","parseExpression","expression","fields","sReturn","toString","tpFields","match","pattern","pat","currentField","keys","replace","undefined","key","newVal","arr","_this","map","join","e","nul","__extends","extendStatics","setPrototypeOf","__proto__","b","__","constructor","create","DEF_ERR_CB","console","error","_super","document","addEventListener","refresh","onFind","compileElement","element","tempName","getAttribute","tempData","COMPILED_ELEMENT_TEMPLATE","COMPILED_ELEMENT_DATA","JSON","innerHTML","refreshItems","templateSelector","w","querySelectorAll","requestedToParse","include","url","successCallback","makeRequest","onSuccess","onError","xhr","XMLHttpRequest","open","onload","status","response","statusText","onerror","send","Promise"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,GAGAzB,IAAA0B,EAAA,KDMM,SAAUtB,EAAQD,EAASH,GAEjC,YAUAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GEtErD,IAAAC,GAAA5B,EAAA,GAEA6B,EAAA,mBAAAA,KACSC,KAAAC,SAAW,QAOZD,KAAAE,MAAQ,GAAIC,KAOZH,KAAAI,QAAU,GAAID,KAwIvB,MAtIEnB,QAAAC,eAAWc,EAAAN,UAAA,WFsELL,IEtEN,WACE,MAAOY,MAAKC,UFwERd,YAAY,EACZD,cAAc,IEjEba,EAAAN,UAAAY,QAAP,WACEL,KAAKE,MAAMI,SAUNP,EAAAN,UAAAc,QAAP,SAAeC,GACb,GAAIR,KAAKE,MAAMO,IAAID,GACjB,KAAM,IAAIE,gBAAe,iBAAiBF,EAAY,mBAGxD,OAAOR,MAAKE,MAAMd,IAAIoB,IAUjBT,EAAAN,UAAAkB,UAAP,SAAiBC,GACf,GAAIZ,KAAKI,QAAQK,IAAIG,GACnB,KAAM,IAAIF,gBAAe,mBAAmBE,EAAU,mBAGxD,OAAOZ,MAAKI,QAAQhB,IAAIwB,IAWnBb,EAAAN,UAAAoB,OAAP,SAAcC,EAAqBjB,GAEjC,GAAMkB,GAAQD,EAAYE,OAAOC,MAAM,KACnCL,EAAaE,EAAY,EAO7B,IAHAjB,GAASA,GAGLkB,EAAMG,OAAS,EAAG,CAClB,GAAMC,GAAa,GAAKC,UAAS,WAAWN,EAAY,GAAGE,OAAM,MACjEnB,GAAQA,EAAMwB,OAAOF,GAGzB,GAAInB,KAAKI,QAAQK,IAAIG,GACnB,KAAM,IAAIF,gBAAe,mBAAmBE,EAAU,mBAGxD,KAEE,GAAIC,GAASb,KAAKI,QAAQhB,IAAIwB,EAC9B,OAAOC,GAAOS,MAAMT,EAAQhB,GAC5B,MAAM0B,GACN,KAAM,IAAIC,OAAM,mCAAmCZ,EAAU,cAAcW,EAAGE,WAY3E1B,EAAAN,UAAAiC,QAAP,SAAelB,EAAsBmB,OAAA,KAAAA,SAEnC,IAAMC,GAAW5B,KAAKO,QAAQC,EAU9B,OANImB,aAAmBE,OACZD,EAASE,WAAWH,GAEpBC,EAASG,MAAMJ,IAerB5B,EAAAN,UAAAuC,WAAP,SAAkBnD,EAAc+C,GAC9B,GAAMK,GAAO,GAAInC,GAAAoC,KAAKlC,KAAMnB,EAAM+C,EAOlC,OALA5B,MAAKE,MAAMiC,IACTtD,EACAoD,GAGKA,GAWFlC,EAAAN,UAAA2C,UAAP,SAAiBvD,EAAcwD,GAE7B,MADArC,MAAKI,QAAQ+B,IAAItD,EAAMwD,GAChBrC,MAEXD,IAvJc1B,GAAA0B,UFqNR,SAAUzB,EAAQD,EAASH,GAEjC,YAUAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GGnOtD,IAAAyC,GAAApE,EAAA,GACAqE,EAAArE,EAAA,GAyBMsE,EAnBc,WAClB,GAAIC,GAAW,IAef,OAbsB,mBAAXC,YAEuB,KAArBA,OAAe,QACxBD,EAAW,GAAIF,GAAAI,UACfD,OAAe,OAAID,GAEnBA,EAAWC,OAAe,OAI5BD,EAAW,GAAIH,GAAAvC,OAGV0C,IAKTpE,GAAAuE,QAAeJ,GHmOT,SAAUlE,EAAQD,EAASH,GAEjC,YAUAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GIzQtD,IAAMgD,GAAiB,wBAEjBC,EAAqB,SAACC,GAC1B,MAAO,IAAI3B,UAAS,uBAAuB2B,EAAc,QAGrDC,EAAI,SAACC,EAAQD,GAAc,aAAOC,KAAMD,GAExCE,EAAM,SAACC,GAAa,MAAAH,GAAEG,EAAK,cAEjCjB,EAAA,WAUE,QAAAA,GAA2BkB,EAAiBvE,EAAcwE,GACxD,OADwD,KAAAA,MAAA,MAA/BrD,KAAAoD,UARpBpD,KAAAnB,KAAe,KAEfmB,KAAAqD,QAAkB,KAOA,gBAAZA,GACT,KAAM,IAAI3C,gBAAe,iDAG3BV,MAAKnB,KAAOA,EAEZmB,KAAKqD,QAAUA,EAAQrC,OAkE3B,MA7EEhC,QAAAC,eAAWiD,EAAAzC,UAAA,WJ6QLL,II7QN,WACE,MAAOyD,IJ+QH1D,YAAY,EACZD,cAAc,II7PZgD,EAAAzC,UAAA6D,gBAAR,SAAwB/D,EAAagE,GACjC,MAAOT,GAAmBS,GAAYjC,MAAM/B,IAShD2C,EAAAzC,UAAAsC,MAAA,SAAMyB,GACF,GAAIC,GAAazD,KAAKqD,QAAQK,WAC1BC,EAAaF,EAAQG,MAAM5D,KAAK6D,QAEpC,KAAK,GAAIC,KAAOH,GAAS,CACrB,GAAII,GAAeJ,EAASG,EAE5B,IAAGd,EAAEe,EAAc,WAAaf,EAAEe,EAAc,UAAU,CAExD,GAAMC,GAAOD,EAAaE,QAAQ,KAAK,IAAIA,QAAQ,KAAK,IAAIjD,OAAOC,MAAM,KAGnEJ,EAAUmD,EAAK9C,OAAS,EAAK8C,EAAKA,EAAK9C,OAAS,OAAKgD,GACrDC,EAAMH,EAAK,GAGbI,MAAM,EAEV,KACIA,EAASpE,KAAKsD,gBAAgBE,EAAQW,GACxC,MAAO5C,GACL,KAAM,IAAIb,gBAAe,uCAAuCyD,EAAG,kBAAkBnE,KAAKnB,KAAI,MAAM0C,EAAGE,SAItGyB,EAAIkB,KAAUA,EAAS,IAGxBlB,EAAIrC,KAAUuD,EAASpE,KAAKoD,QAAQpD,KAAKoD,QAAQlD,MAAMO,IAAII,GAAU,UAAY,UAAUA,EAAQuD,IAEvGX,EAAUA,EAAQQ,QAAQF,EAAaK,IAI7C,MAAOX,IASJvB,EAAAzC,UAAAqC,WAAP,SAAkBuC,GAAlB,GAAAC,GAAAtE,IACI,OAAOqE,GAAIE,IAAI,SAAChG,GAAM,MAAA+F,GAAKvC,MAAMxD,KAAIiG,QAG3CtC,IAnFa7D,GAAA6D,QJsVP,SAAU5D,EAAQD,EAASH,GAEjC,YKlWA,SAAAgF,GAAauB,GAAU,WAAoB,KAANA,EACrC,QAAAC,GAAaD,GAAU,MAAa,QAANA,EL2W9B,GAAIE,GAAa3E,MAAQA,KAAK2E,WAAc,WACxC,GAAIC,GAAgB5F,OAAO6F,iBACpBC,uBAA2BjD,QAAS,SAAUjD,EAAGmG,GAAKnG,EAAEkG,UAAYC,IACvE,SAAUnG,EAAGmG,GAAK,IAAK,GAAIpF,KAAKoF,GAAOA,EAAErF,eAAeC,KAAIf,EAAEe,GAAKoF,EAAEpF,IACzE,OAAO,UAAUf,EAAGmG,GAEhB,QAASC,KAAOhF,KAAKiF,YAAcrG,EADnCgG,EAAchG,EAAGmG,GAEjBnG,EAAEa,UAAkB,OAANsF,EAAa/F,OAAOkG,OAAOH,IAAMC,EAAGvF,UAAYsF,EAAEtF,UAAW,GAAIuF,OAGvFhG,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GKxXtD,IAAAyC,GAAApE,EAAA,GAUMiH,EAAa,SAACV,GAAW,MAAAW,SAAQC,MAAMZ,IAG7C9B,EAAA,SAAA2C,GACE,QAAA3C,KAAA,GAAA2B,GACEgB,EAAA7G,KAAAuB,OAAOA,IAEP,KAAKkD,EAAIR,QAAS,KAAM,IAAIhC,gBAAe,yCAC3C,KAAKwC,EAAIR,OAAO6C,UAAW,KAAM,IAAI/D,OAAM,mDLqXvC,OKnXJ+D,UAASC,iBAAiB,mBAAoB,WAAM,MAAAlB,GAAKmB,ULmX9CnB,EK/Qf,MA3G+BK,GAAAhC,EAAA2C,GAUtB3C,EAAAlD,UAAAiG,OAAP,aAEQ/C,EAAAlD,UAAAkG,eAAR,SAAuBC,GACrB,GAAIC,GAAWD,EAAQE,aAnBG,aAoBxBC,EAAWH,EAAQE,aArBC,eAuBtB,IAAIpB,EAAImB,GAAW,KAAM,IAAInF,gBAAesF,yBAC5C,IAAItB,EAAIqB,GAAW,KAAM,IAAIrF,gBAAeuF,4BAE5CJ,GAAWA,EAAS7E,OACpB+E,EAAWA,EAAS/E,MAEpB,KACE+E,EAAWG,KAAKnE,MAAMgE,GACtBH,EAAQO,WAAanG,KAAK0B,QAAQmE,EAAUE,GAC5C,MAAOxE,GACP6D,QAAQC,MAAM,qCACZO,QAASA,EACTP,MAAO9D,MAKNoB,EAAAlD,UAAAgG,QAAP,SAAeW,GAETA,GAAcpG,KAAKK,SAEvB,IAAIgG,GAAmB,4BAElBD,KAAcC,GAAoB,sBAMvC,KAAK,GAHDC,GAAIf,SAASgB,iBAAiBF,GAGzB1H,EAAI,EAAGA,EAAI2H,EAAEpF,OAAQvC,IAC5BqB,KAAKgC,WAAWsE,EAAE3H,GAAGmH,aAAa,QAASQ,EAAE3H,GAAGwH,UAIlD,IAAIK,GAAmBjB,SAASgB,iBA1DF,kBA4D9B,KAAKC,EAAiBtF,OAAQ,OAAO,CAErC,KAAK,GAAI3C,GAAI,EAAGA,EAAIiI,EAAiBtF,OAAQ3C,IAC3CyB,KAAK2F,eAAea,EAAiBjI,GAGb,mBAAfyB,MAAK0F,QACd1F,KAAK0F,UAIF/C,EAAAlD,UAAAgH,QAAP,SAAeC,EAAalG,EAAsBmG,GAChD,QAAAC,GAAqBC,EAAqBC,GAA1C,GAAAxC,GAAAtE,SAA0C,KAAA8G,MAAA3B,EACxC,IAAI4B,GAAM,GAAIC,eAEdD,GAAIE,KAAK,MAAOP,GAChBK,EAAIG,OAAS,WACX,GAAIH,EAAII,QAAU,KAAOJ,EAAII,OAAS,IAAK,CACzC,GAAMvF,GAAW0C,EAAKtC,WAAWxB,EAAcuG,EAAIK,SACnDP,GAAUjF,EAAUmF,EAAIK,cAExBN,IACEK,OAAQ7C,EAAK6C,OACbE,WAAYN,EAAIM,cAKtBN,EAAIO,QAAU,WACRpE,EAAI4D,GACNA,GACEK,OAAQJ,EAAII,OACZE,WAAYN,EAAIM,aAGlBjC,QAAQC,MAAM,8CACZ8B,OAAQJ,EAAII,OACZE,WAAYN,EAAIM,cAKtBN,EAAIQ,OAGN,OAlCgD,KAAAZ,MAAA,MAkC7B,gBAARD,GAAkB,KAAM,IAAIhG,gBAAe,8BAItD,OAFAF,GAAeA,GAAgBkG,EAEA,kBAAnBC,IAAoC,WAAajE,QAItD,GAAI8E,SAAQZ,GAHVA,EAAYD,IAKzBhE,GA3G+BL,EAAAvC,OAAlB1B,GAAAsE","file":"karkas.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar view_1 = __webpack_require__(2);\r\nvar Karkas = (function () {\r\n    function Karkas() {\r\n        this._version = '4.0.0';\r\n        /**\r\n         * List of views\r\n         *\r\n         * @memberof Karkas\r\n         */\r\n        this.views = new Map();\r\n        /**\r\n         * List of filters\r\n         *\r\n         * @memberof Karkas\r\n         */\r\n        this.filters = new Map();\r\n    }\r\n    Object.defineProperty(Karkas.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Reset instance\r\n     *\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.dispose = function () {\r\n        this.views.clear();\r\n    };\r\n    /**\r\n     * Get view\r\n     *\r\n     * @param {string} templateName\r\n     * @returns {string}\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.getView = function (templateName) {\r\n        if (this.views.has(templateName)) {\r\n            throw new ReferenceError(\"Karkas: View '\" + templateName + \"' is not defined\");\r\n        }\r\n        return this.views.get(templateName);\r\n    };\r\n    /**\r\n     * Get filter\r\n     *\r\n     * @param {string} filterName\r\n     * @returns {Function}\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.getFilter = function (filterName) {\r\n        if (this.filters.has(filterName)) {\r\n            throw new ReferenceError(\"Karkas: Filter '\" + filterName + \"' is not defined\");\r\n        }\r\n        return this.filters.get(filterName);\r\n    };\r\n    /**\r\n     * Apply filter on query expression\r\n     *\r\n     * @param {string} filterQuery\r\n     * @param {*} value Target object\r\n     * @returns {string}\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.filter = function (filterQuery, value) {\r\n        // Extract filter name and args\r\n        var query = filterQuery.trim().split(\":\");\r\n        var filterName = filterQuery[0];\r\n        // Array of arguments that we will push to the filter\r\n        // At start there will be only expression value\r\n        value = [value];\r\n        // Try to find another args\r\n        if (query.length > 1) {\r\n            var filterArgs = (new Function(\"return [\" + filterQuery[1].trim() + \"]\"))();\r\n            value = value.concat(filterArgs);\r\n        }\r\n        if (this.filters.has(filterName)) {\r\n            throw new ReferenceError(\"Karkas: filter '\" + filterName + \"' is not defined\");\r\n        }\r\n        try {\r\n            // Find and call the filter with selected args\r\n            var filter = this.filters.get(filterName);\r\n            return filter.apply(filter, value);\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Karkas: failed to apply filter '\" + filterName + \"', reason: \" + ex.message);\r\n        }\r\n    };\r\n    /**\r\n     * Compile template with content\r\n     *\r\n     * @param {string} templateName\r\n     * @param {(Array<any> | any)} [context={}]\r\n     * @returns\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.compile = function (templateName, context) {\r\n        if (context === void 0) { context = {}; }\r\n        // Output buffer\r\n        var template = this.getView(templateName);\r\n        var output = '';\r\n        if (context instanceof Array) {\r\n            output = template.parseArray(context);\r\n        }\r\n        else {\r\n            output = template.parse(context);\r\n        }\r\n        return output;\r\n    };\r\n    ;\r\n    /**\r\n     * Create a new prepared view instance and injects it\r\n     *\r\n     * @param {string} name\r\n     * @param {string} template\r\n     * @returns {View}\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.createView = function (name, template) {\r\n        var view = new view_1.View(this, name, template);\r\n        this.views.set(name, view);\r\n        return view;\r\n    };\r\n    /**\r\n     * Add filter\r\n     *\r\n     * @param {string} name\r\n     * @param {Function} filterFunc\r\n     * @returns {Karkas}\r\n     * @memberof Karkas\r\n     */\r\n    Karkas.prototype.addFilter = function (name, filterFunc) {\r\n        this.filters.set(name, filterFunc);\r\n        return this;\r\n    };\r\n    return Karkas;\r\n}());\r\nexports.Karkas = Karkas;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar karkas_1 = __webpack_require__(0);\r\nvar karkas_dom_1 = __webpack_require__(3);\r\n/**\r\n * Export suitable karkas version (DOM or common)\r\n */\r\nvar getInstance = function () {\r\n    var instance = null;\r\n    if (typeof window !== 'undefined') {\r\n        if (typeof window['karkas'] === 'undefined') {\r\n            instance = new karkas_dom_1.KarkasDOM();\r\n            window['karkas'] = instance;\r\n        }\r\n        else {\r\n            instance = window['karkas'];\r\n        }\r\n    }\r\n    else {\r\n        instance = new karkas_1.Karkas();\r\n    }\r\n    return instance;\r\n};\r\nvar karkas = getInstance();\r\nexports.default = karkas;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SEARCH_PATTERN = /[\\{\\{](.*?)[\\}\\}]+/gim;\r\nvar valueParserFactory = function (expressionName) {\r\n    return new Function(\"with(this) { return \" + expressionName + \"; }\");\r\n};\r\nvar t = function (v, t) { return typeof v === t; };\r\nvar def = function (val) { return t(val, 'undefined'); };\r\nvar View = (function () {\r\n    function View(handler, name, content) {\r\n        if (content === void 0) { content = null; }\r\n        this.handler = handler;\r\n        this.name = null;\r\n        this.content = null;\r\n        if (typeof content !== 'string') {\r\n            throw new ReferenceError('Karkas.View: Template content must be a string');\r\n        }\r\n        this.name = name;\r\n        this.content = content.trim();\r\n    }\r\n    Object.defineProperty(View.prototype, \"pattern\", {\r\n        get: function () {\r\n            return SEARCH_PATTERN;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Parse single expression from object\r\n     * @param   {Object} object     Object\r\n     * @param   {String} expression Expression\r\n     * @returns {*} Value\r\n     */\r\n    View.prototype.parseExpression = function (object, expression) {\r\n        return valueParserFactory(expression).apply(object);\r\n    };\r\n    /**\r\n     * Parse an single object using the template\r\n     * @param fields Object\r\n     * @returns {string} Compiled content\r\n     */\r\n    View.prototype.parse = function (fields) {\r\n        var sReturn = this.content.toString(), tpFields = sReturn.match(this.pattern);\r\n        for (var pat in tpFields) {\r\n            var currentField = tpFields[pat];\r\n            if (t(currentField, 'string') || t(currentField, 'number')) {\r\n                // Remove brackets and extract filters\r\n                var keys = currentField.replace('{{', '').replace('}}', '').trim().split('|');\r\n                // Check for filters and expressions\r\n                var filter = (keys.length > 1) ? keys[keys.length - 1] : undefined;\r\n                var key = keys[0];\r\n                //  replace expression with object\r\n                var newVal = void 0;\r\n                try {\r\n                    newVal = this.parseExpression(fields, key);\r\n                }\r\n                catch (ex) {\r\n                    throw new ReferenceError(\"Karkas: failed to parse expression '\" + key + \"' in template '\" + this.name + \"'. \" + ex.message);\r\n                }\r\n                // If value is undefined - replace it\r\n                if (!def(newVal))\r\n                    newVal = '';\r\n                // Use filter or template if available in expression\r\n                if (def(filter))\r\n                    newVal = this.handler[this.handler.views.has(filter) ? 'compile' : 'filter'](filter, newVal);\r\n                sReturn = sReturn.replace(currentField, newVal);\r\n            }\r\n        }\r\n        return sReturn;\r\n    };\r\n    ;\r\n    /**\r\n     * Parse an array of objects using the template\r\n     * @param arr\r\n     * @returns {string} Compiled content\r\n     */\r\n    View.prototype.parseArray = function (arr) {\r\n        var _this = this;\r\n        return arr.map(function (i) { return _this.parse(i); }).join();\r\n    };\r\n    ;\r\n    return View;\r\n}());\r\nexports.View = View;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar karkas_1 = __webpack_require__(0);\r\nfunction def(e) { return typeof e !== 'undefined'; }\r\nfunction nul(e) { return e === null; }\r\nvar COMPILED_ELEMENT_SELECTOR = '*[data-compile]', COMPILED_ELEMENT_DATA = 'data-compile', COMPILED_ELEMENT_TEMPLATE = 'data-view', VIEW_SCRIPT_MIME_TYPE = 'text/karkas';\r\nvar DEF_ERR_CB = function (e) { return console.error(e); };\r\nvar KarkasDOM = (function (_super) {\r\n    __extends(KarkasDOM, _super);\r\n    function KarkasDOM() {\r\n        var _this = _super.call(this) || this;\r\n        if (!def(window))\r\n            throw new ReferenceError('Karkas DOM extensions requries browser');\r\n        if (!def(window.document))\r\n            throw new Error('Karkas DOM extensions requires a document object');\r\n        document.addEventListener('DOMContentLoaded', function () { return _this.refresh; });\r\n        return _this;\r\n    }\r\n    KarkasDOM.prototype.onFind = function () { };\r\n    KarkasDOM.prototype.compileElement = function (element) {\r\n        var tempName = element.getAttribute(COMPILED_ELEMENT_TEMPLATE), tempData = element.getAttribute(COMPILED_ELEMENT_DATA);\r\n        if (nul(tempName))\r\n            throw new ReferenceError(COMPILED_ELEMENT_TEMPLATE + ' is undefined');\r\n        if (nul(tempData))\r\n            throw new ReferenceError(COMPILED_ELEMENT_DATA + ' is undefined');\r\n        tempName = tempName.trim();\r\n        tempData = tempData.trim();\r\n        try {\r\n            tempData = JSON.parse(tempData);\r\n            element.innerHTML += this.compile(tempName, tempData);\r\n        }\r\n        catch (ex) {\r\n            console.error('Karkas: failed to compile element', {\r\n                element: element,\r\n                error: ex\r\n            });\r\n        }\r\n    };\r\n    KarkasDOM.prototype.refresh = function (refreshItems) {\r\n        // Views container\r\n        if (refreshItems)\r\n            this.dispose();\r\n        var templateSelector = \"script[type=\\\"\" + VIEW_SCRIPT_MIME_TYPE + \"\\\"]\";\r\n        if (!refreshItems)\r\n            templateSelector += ':not([data-loaded])';\r\n        // Select all templates\r\n        var w = document.querySelectorAll(templateSelector);\r\n        // Grep all elements\r\n        for (var c = 0; c < w.length; c++) {\r\n            this.createView(w[c].getAttribute(\"name\"), w[c].innerHTML);\r\n        }\r\n        // find items by attr and parse them\r\n        var requestedToParse = document.querySelectorAll(COMPILED_ELEMENT_SELECTOR);\r\n        if (!requestedToParse.length)\r\n            return true;\r\n        for (var i = 0; i < requestedToParse.length; i++) {\r\n            this.compileElement(requestedToParse[i]);\r\n        }\r\n        if (typeof this.onFind == 'function') {\r\n            this.onFind();\r\n        }\r\n    };\r\n    ;\r\n    KarkasDOM.prototype.include = function (url, templateName, successCallback) {\r\n        if (successCallback === void 0) { successCallback = null; }\r\n        function makeRequest(onSuccess, onError) {\r\n            var _this = this;\r\n            if (onError === void 0) { onError = DEF_ERR_CB; }\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"GET\", url);\r\n            xhr.onload = function () {\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    var template = _this.createView(templateName, xhr.response);\r\n                    onSuccess(template, xhr.response);\r\n                }\r\n                else {\r\n                    onError({\r\n                        status: _this.status,\r\n                        statusText: xhr.statusText\r\n                    });\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                if (def(onError)) {\r\n                    onError({\r\n                        status: xhr.status,\r\n                        statusText: xhr.statusText\r\n                    });\r\n                }\r\n                else {\r\n                    console.error('Karkas: Failed to import remote template: ', {\r\n                        status: xhr.status,\r\n                        statusText: xhr.statusText\r\n                    });\r\n                }\r\n            };\r\n            xhr.send();\r\n        }\r\n        if (typeof url !== 'string')\r\n            throw new ReferenceError('Karkas: Url is not a String');\r\n        templateName = templateName || url;\r\n        if ((typeof successCallback == 'function') || !('Promise' in window)) {\r\n            return makeRequest(successCallback);\r\n        }\r\n        return new Promise(makeRequest);\r\n    };\r\n    ;\r\n    return KarkasDOM;\r\n}(karkas_1.Karkas));\r\nexports.KarkasDOM = KarkasDOM;\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// karkas.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9a0b6c7accde068ef3a","/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\n\r\n import { View } from './view';\r\n\r\n export class Karkas {\r\n  private _version = '4.0.0';\r\n\r\n  /**\r\n   * List of views\r\n   *\r\n   * @memberof Karkas\r\n   */\r\n  public views = new Map<string, View>();\r\n\r\n  /**\r\n   * List of filters\r\n   *\r\n   * @memberof Karkas\r\n   */\r\n  public filters = new Map<string, Function>();\r\n\r\n  public get version(): string {\r\n    return this._version;\r\n  }\r\n\r\n  /**\r\n   * Reset instance\r\n   *\r\n   * @memberof Karkas\r\n   */\r\n  public dispose() {\r\n    this.views.clear();\r\n  }\r\n\r\n  /**\r\n   * Get view\r\n   *\r\n   * @param {string} templateName\r\n   * @returns {string}\r\n   * @memberof Karkas\r\n   */\r\n  public getView(templateName: string): View {\r\n    if (this.views.has(templateName)) {\r\n      throw new ReferenceError(`Karkas: View '${templateName}' is not defined`);\r\n    }\r\n\r\n    return this.views.get(templateName);\r\n  }\r\n\r\n  /**\r\n   * Get filter\r\n   *\r\n   * @param {string} filterName\r\n   * @returns {Function}\r\n   * @memberof Karkas\r\n   */\r\n  public getFilter(filterName: string): Function {\r\n    if (this.filters.has(filterName)) {\r\n      throw new ReferenceError(`Karkas: Filter '${filterName}' is not defined`);\r\n    }\r\n\r\n    return this.filters.get(filterName);\r\n  }\r\n\r\n  /**\r\n   * Apply filter on query expression\r\n   *\r\n   * @param {string} filterQuery\r\n   * @param {*} value Target object\r\n   * @returns {string}\r\n   * @memberof Karkas\r\n   */\r\n  public filter(filterQuery: string, value: any): string {\r\n    // Extract filter name and args\r\n    const query = filterQuery.trim().split(\":\");\r\n    var filterName = filterQuery[0];\r\n\r\n    // Array of arguments that we will push to the filter\r\n    // At start there will be only expression value\r\n    value = [value];\r\n\r\n    // Try to find another args\r\n    if (query.length > 1) {\r\n        const filterArgs = (new Function(`return [${filterQuery[1].trim()}]`))();\r\n        value = value.concat(filterArgs);\r\n    }\r\n\r\n    if (this.filters.has(filterName)) {\r\n      throw new ReferenceError(`Karkas: filter '${filterName}' is not defined`);\r\n    }\r\n\r\n    try {\r\n      // Find and call the filter with selected args\r\n      var filter = this.filters.get(filterName);\r\n      return filter.apply(filter, value);\r\n    } catch(ex) {\r\n      throw new Error(`Karkas: failed to apply filter '${filterName}', reason: ${ex.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Compile template with content\r\n   *\r\n   * @param {string} templateName\r\n   * @param {(Array<any> | any)} [context={}]\r\n   * @returns\r\n   * @memberof Karkas\r\n   */\r\n  public compile(templateName: string, context: Array<any> | any = {}): string {\r\n    // Output buffer\r\n    const template = this.getView(templateName);\r\n\r\n    let output = '';\r\n\r\n    if (context instanceof Array) {\r\n      output = template.parseArray(context);\r\n    } else {\r\n      output = template.parse(context);\r\n    }\r\n\r\n    return output;\r\n  };\r\n\r\n\r\n  /**\r\n   * Create a new prepared view instance and injects it\r\n   *\r\n   * @param {string} name\r\n   * @param {string} template\r\n   * @returns {View}\r\n   * @memberof Karkas\r\n   */\r\n  public createView(name: string, template: string): View {\r\n    const view = new View(this, name, template);\r\n\r\n    this.views.set(\r\n      name,\r\n      view\r\n    );\r\n\r\n    return view;\r\n  }\r\n\r\n  /**\r\n   * Add filter\r\n   *\r\n   * @param {string} name\r\n   * @param {Function} filterFunc\r\n   * @returns {Karkas}\r\n   * @memberof Karkas\r\n   */\r\n  public addFilter(name: string, filterFunc: Function): Karkas {\r\n    this.filters.set(name, filterFunc);\r\n    return this;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./karkas.ts","/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\n\r\nimport { Karkas } from './karkas';\r\nimport { KarkasDOM } from './karkas-dom';\r\n\r\n\r\n/**\r\n * Export suitable karkas version (DOM or common)\r\n */\r\nconst getInstance = (): Karkas => {\r\n  let instance = null;\r\n\r\n  if (typeof window !== 'undefined') {\r\n\r\n    if (typeof window['karkas'] === 'undefined') {\r\n      instance = new KarkasDOM();\r\n      window['karkas'] = instance;\r\n    } else {\r\n      instance = window['karkas'];\r\n    }\r\n\r\n  } else {\r\n    instance = new Karkas();\r\n  }\r\n\r\n  return instance;\r\n}\r\n\r\nconst karkas = getInstance();\r\n\r\nexport default karkas;\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./index.ts","/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\n\r\nimport { Karkas } from './karkas';\r\n\r\nconst SEARCH_PATTERN = /[\\{\\{](.*?)[\\}\\}]+/gim;\r\n\r\nconst valueParserFactory = (expressionName: string): Function => {\r\n  return new Function(`with(this) { return ${expressionName}; }`);\r\n}\r\n\r\nconst t = (v: any, t: string) => typeof v === t;\r\n\r\nconst def = (val: any) => t(val, 'undefined');\r\n\r\nexport class View {\r\n\r\n  public name: string = null;\r\n\r\n  public content: string = null;\r\n\r\n  public get pattern() {\r\n    return SEARCH_PATTERN;\r\n  }\r\n\r\n  public constructor(private handler: Karkas, name: string, content: string = null) {\r\n    if (typeof content !== 'string') {\r\n      throw new ReferenceError('Karkas.View: Template content must be a string');\r\n    }\r\n\r\n    this.name = name;\r\n\r\n    this.content = content.trim();\r\n  }\r\n\r\n  /**\r\n   * Parse single expression from object\r\n   * @param   {Object} object     Object\r\n   * @param   {String} expression Expression\r\n   * @returns {*} Value\r\n   */\r\n  private parseExpression(object: any, expression: string) {\r\n      return valueParserFactory(expression).apply(object);\r\n  }\r\n\r\n\r\n  /**\r\n   * Parse an single object using the template\r\n   * @param fields Object\r\n   * @returns {string} Compiled content\r\n   */\r\n  parse(fields: any): string {\r\n      let sReturn    = this.content.toString(),\r\n          tpFields   = sReturn.match(this.pattern);\r\n\r\n      for (let pat in tpFields){\r\n          let currentField = tpFields[pat];\r\n\r\n          if(t(currentField, 'string') || t(currentField, 'number')){\r\n            // Remove brackets and extract filters\r\n            const keys = currentField.replace('{{','').replace('}}','').trim().split('|');\r\n\r\n            // Check for filters and expressions\r\n            const filter = (keys.length > 1) ? keys[keys.length - 1] : undefined;\r\n            const key = keys[0];\r\n\r\n            //  replace expression with object\r\n            let newVal;\r\n\r\n            try {\r\n                newVal = this.parseExpression(fields, key);\r\n            } catch (ex) {\r\n                throw new ReferenceError(`Karkas: failed to parse expression '${key}' in template '${this.name}'. ${ex.message}`);\r\n            }\r\n\r\n            // If value is undefined - replace it\r\n            if( !def(newVal) ) newVal = '';\r\n\r\n            // Use filter or template if available in expression\r\n            if( def(filter))  newVal = this.handler[this.handler.views.has(filter) ? 'compile' : 'filter'](filter, newVal);\r\n\r\n            sReturn = sReturn.replace(currentField,newVal);\r\n          }\r\n      }\r\n\r\n      return sReturn;\r\n  };\r\n\r\n\r\n  /**\r\n   * Parse an array of objects using the template\r\n   * @param arr\r\n   * @returns {string} Compiled content\r\n   */\r\n  public parseArray(arr: Array<any>): string {\r\n      return arr.map((i) => this.parse(i)).join();\r\n  };\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./view.ts","/**\r\n * Karkas.js (https://github.com/odin3/karkas)\r\n * Licensed by MIT license\r\n *\r\n * @package karkas\r\n * @version 4.0.0\r\n * @author Denis Sedchenko\r\n */\r\n\r\nimport { Karkas } from './karkas';\r\n\r\nfunction def(e: any) { return typeof e !== 'undefined'; }\r\nfunction nul(e: any) { return e === null }\r\n\r\nconst COMPILED_ELEMENT_SELECTOR = '*[data-compile]',\r\n  COMPILED_ELEMENT_DATA = 'data-compile',\r\n  COMPILED_ELEMENT_TEMPLATE = 'data-view',\r\n  VIEW_SCRIPT_MIME_TYPE = 'text/karkas';\r\n\r\nconst DEF_ERR_CB = (e: any) => console.error(e);\r\n\r\n\r\nexport class KarkasDOM extends Karkas {\r\n  public constructor() {\r\n    super();\r\n\r\n    if (!def(window)) throw new ReferenceError('Karkas DOM extensions requries browser');\r\n    if (!def(window.document)) throw new Error('Karkas DOM extensions requires a document object');\r\n\r\n    document.addEventListener('DOMContentLoaded', () => this.refresh);\r\n  }\r\n\r\n  public onFind() { }\r\n\r\n  private compileElement(element: Element | HTMLElement) {\r\n    var tempName = element.getAttribute(COMPILED_ELEMENT_TEMPLATE),\r\n      tempData = element.getAttribute(COMPILED_ELEMENT_DATA);\r\n\r\n    if (nul(tempName)) throw new ReferenceError(COMPILED_ELEMENT_TEMPLATE + ' is undefined');\r\n    if (nul(tempData)) throw new ReferenceError(COMPILED_ELEMENT_DATA + ' is undefined');\r\n\r\n    tempName = tempName.trim();\r\n    tempData = tempData.trim();\r\n\r\n    try {\r\n      tempData = JSON.parse(tempData);\r\n      element.innerHTML += this.compile(tempName, tempData);\r\n    } catch (ex) {\r\n      console.error('Karkas: failed to compile element', {\r\n        element: element,\r\n        error: ex\r\n      });\r\n    }\r\n  }\r\n\r\n  public refresh(refreshItems: boolean) {\r\n    // Views container\r\n    if (refreshItems) this.dispose();\r\n\r\n    var templateSelector = `script[type=\"${VIEW_SCRIPT_MIME_TYPE}\"]`;\r\n\r\n    if (!refreshItems) templateSelector += ':not([data-loaded])';\r\n\r\n    // Select all templates\r\n    var w = document.querySelectorAll(templateSelector);\r\n\r\n    // Grep all elements\r\n    for (var c = 0; c < w.length; c++) {\r\n      this.createView(w[c].getAttribute(\"name\"), w[c].innerHTML);\r\n    }\r\n\r\n    // find items by attr and parse them\r\n    var requestedToParse = document.querySelectorAll(COMPILED_ELEMENT_SELECTOR);\r\n\r\n    if (!requestedToParse.length) return true;\r\n\r\n    for (var i = 0; i < requestedToParse.length; i++) {\r\n      this.compileElement(requestedToParse[i]);\r\n    }\r\n\r\n    if (typeof this.onFind == 'function') {\r\n      this.onFind();\r\n    }\r\n  };\r\n\r\n  public include(url: string, templateName: string, successCallback: Function = null): Promise<string> | void {\r\n    function makeRequest(onSuccess: Function, onError: Function = DEF_ERR_CB) {\r\n      var xhr = new XMLHttpRequest();\r\n\r\n      xhr.open(\"GET\", url);\r\n      xhr.onload = () => {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          const template = this.createView(templateName, xhr.response);\r\n          onSuccess(template, xhr.response);\r\n        } else {\r\n          onError({\r\n            status: this.status,\r\n            statusText: xhr.statusText\r\n          });\r\n        }\r\n      };\r\n\r\n      xhr.onerror = () => {\r\n        if (def(onError)) {\r\n          onError({\r\n            status: xhr.status,\r\n            statusText: xhr.statusText\r\n          });\r\n        } else {\r\n          console.error('Karkas: Failed to import remote template: ', {\r\n            status: xhr.status,\r\n            statusText: xhr.statusText\r\n          });\r\n        }\r\n      };\r\n\r\n      xhr.send();\r\n    }\r\n\r\n    if (typeof url !== 'string') throw new ReferenceError('Karkas: Url is not a String');\r\n\r\n    templateName = templateName || url;\r\n\r\n    if ((typeof successCallback == 'function') || !('Promise' in window)) {\r\n      return makeRequest(successCallback);\r\n    }\r\n\r\n    return new Promise(makeRequest);\r\n  };\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./karkas-dom.ts"],"sourceRoot":""}